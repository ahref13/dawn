{% comment %} THE FALL â€“ Designers List - Tailwind Grid {% endcomment %}

<section class="w-full grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 auto-rows-min px-[20px] md:px-[30px] lg:px-[50px] gap-[15px] md:gap-[20px] lg:gap-[40px] pb-[60px] relative bg-cover bg-center bg-no-repeat transition-all duration-500" style="padding-top: 130px;" id="tf-designers">

    {% for page in pages %}
        {% if page.template_suffix == 'designer' %}

            <a href="{{ page.url }}"
            class="col-span-1 text-center no-underline text-inherit flex flex-col items-center transition-opacity duration-300"
            data-image="{{ page.metafields.custom.designer_thumbnail | image_url }}"
            >
            <div class="w-full">
                {% if page.metafields.custom.designer_thumbnail %}
                    <img
                            src="{{ page.metafields.custom.designer_thumbnail | image_url: width: 400 }}"
                            alt="{{ page.title }}"
                            class="w-full aspect-[168/240] object-cover block"
                            loading="lazy"
                    >
                {% endif %}
                <div class="text-[14px] font-medium leading-[1.4] mt-1 flex w-full items-start">{{ page.title }}</div>
            </div>
            </a>
        {% endif %}
    {% endfor %}

    <!-- Preload background images (hidden) -->
    <div class="hidden">
        {% for page in pages %}
            {% if page.template_suffix == 'designer' and page.metafields.custom.designer_thumbnail %}
                <img src="{{ page.metafields.custom.designer_thumbnail | image_url }}" alt="">
            {% endif %}
        {% endfor %}
    </div>
</section>

<style>
    /* Overlay and hover effects */
    #tf-designers.hovering::before {
        content: '';
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.3);
        pointer-events: none;
    }

    #tf-designers.hovering a {
        opacity: 0.4;
        transition: opacity 0.3s;
    }

    #tf-designers.hovering a:hover {
        opacity: 1;
        z-index: 2;
    }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const container = document.getElementById('tf-designers');
    const items = container.querySelectorAll('a[data-image]');

    items.forEach(item => {
      item.addEventListener('mouseenter', () => {
        const bg = item.getAttribute('data-image');
        container.style.backgroundImage = `url('${bg}')`;
        container.classList.add('hovering');
      });

      item.addEventListener('mouseleave', () => {
        container.style.backgroundImage = '';
        container.classList.remove('hovering');
      });
    });
  });
</script>