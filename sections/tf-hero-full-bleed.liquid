{% comment %} THE FALL – Full-bleed hero {% endcomment %}
{{ 'tf-hero-full-bleed.css' | asset_url | stylesheet_tag }}

<section class="tf-hero">
    {% if section.settings.image != blank %}
        {{ section.settings.image | image_url: width: 2400 | image_tag: class: 'tf-hero__img', loading: 'eager' }}
    {% endif %}

    <div class="tf-hero__overlay">
        <h1 class="tf-hero__title">
            {% case section.settings.title_style %}
                {% when 'text' %}
                    {{ section.settings.title | escape }}

                {% when 'image' %}
                    {% if section.settings.title_image %}
                        {{ section.settings.title_image
                        | image_url: width: section.settings.title_image_width
                        | image_tag: class: 'tf-hero__title-img',
                        alt: section.settings.title_image_alt | escape }}
                        <span class="visually-hidden">{{ section.settings.title }}</span>
                    {% else %}
                        {{ section.settings.title | escape }}
                    {% endif %}

                {% when 'both' %}
                    {% if section.settings.title_image and section.settings.title_image_position == 'before' %}
                        {{ section.settings.title_image
                        | mage_url: width: section.settings.title_image_width
                        | image_tag: class: 'tf-hero__title-img',
                        alt: section.settings.title_image_alt | escape }}
                    {% endif %}
                    <span>{{ section.settings.title }}</span>
                    {% if section.settings.title_image and section.settings.title_image_position == 'after' %}
                        {{ section.settings.title_image
                        | image_url: width: 2400
                        | image_tag:
                        class: 'tf-hero__title-img',
                        alt: section.settings.title_image_alt | escape |
                        sizes: '80vw',
                        widths: '320, 480, 640, 960, 1200, 1600, 2000, 2400' }}
                    {% endif %}
            {% endcase %}
        </h1>
        {% if section.settings.subtext != blank %}
            <p class="tf-hero__sub">{{ section.settings.subtext }}</p>
        {% endif %}
    </div>

    {% if section.settings.link_url != blank %}
        <a class="tf-hero__link" href="{{ section.settings.link_url }}">{{ section.settings.link_label }}</a>
    {% endif %}
</section>

{% schema %}
{
  "name": "TF • Hero full-bleed",
  "settings": [
    { "type": "image_picker", "id": "image", "label": "Background image" },

    { "type": "text", "id": "title", "label": "Title (for SEO/aria)", "default": "THE—FALL" },
    { "type": "select", "id": "title_style", "label": "Title content",
      "options": [
        { "value": "text",  "label": "Text only" },
        { "value": "image", "label": "Image (logo) only" },
        { "value": "both",  "label": "Image + text" }
      ],
      "default": "text"
    },
    { "type": "image_picker", "id": "title_image", "label": "Title image (logo)" },
    { "type": "text", "id": "title_image_alt", "label": "Image alt text", "default": "Logo" },
    { "type": "range", "id": "title_image_width", "label": "Image width (px)",
      "min": 100, "max": 1100, "step": 10, "default": 420
    },
    { "type": "select", "id": "title_image_position", "label": "Image position (when using both)",
      "options": [
        { "value": "before", "label": "Before text" },
        { "value": "after",  "label": "After text" }
      ],
      "default": "before"
    },

    { "type": "textarea", "id": "subtext", "label": "Subtext" },
    { "type": "url", "id": "link_url", "label": "Button link" },
    { "type": "text", "id": "link_label", "label": "Button label", "default": "Shop" }
  ],
  "presets": [
    { "name": "TF • Hero full-bleed" }
  ]
}
{% endschema %}

